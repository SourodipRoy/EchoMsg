<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="socket.io/socket.io.js"></script>
    <script src="script.js" defer></script>
</head>
<body onload="onload()">
    <div id="Main">
        <audio id="Ding" src="Ding.mp3"></audio>
        <h1 id="Title">Chat</h1>
        <div id="AccessPort">
            <label id="NameLabel">Username</label>
            <input id="NameInput" type="text" placeholder="Enter your username" required>
            <div id="usernameError" class="error-message"></div> <!-- Container for username error -->

            <label id="IDLabel">Room ID</label>
            <input 
                id="IDInput" 
                type="tel" 
                placeholder="Enter Room ID (6 digits only)" 
                pattern="[0-9]*" 
                inputmode="numeric" 
                maxlength="6" 
                required>
            <div id="roomIDError" class="error-message"></div> <!-- Error message for room ID -->

            <input id="ConnectButton" class="Button" type="submit" value="Connect" onclick="Connect()">
        </div>
        <div style="display:flex; align-items:center;"> <!-- Flexbox container for Exit button and Room ID -->
            <input id="ExitButton" class="Button exit" type="button" value="Exit" onclick="exitChat()" style="display:none; margin-right: 10px;"> <!-- Exit button on the left -->
            <h2 id="RoomID" style="display:none;">Chatroom: None</h2> <!-- Room ID text -->
        </div>
        <div id="Chat" style="display:none;">
            <!-- Message containers will be populated dynamically -->
        </div>
        
        <div id="MessageSection" style="display:none;">
            <label id="MessageLabel">Message</label>
            <div id="previewContainer">
                <img id="imagePreview" alt="Preview">
                <span id="imageName"></span> <!-- Display selected image name -->
            </div>
            <div class="input-container"> <!-- Flex container for input and button -->
                <input id="ComposedMessage" type="text" placeholder="Type your message here...">
                <button type="button" class="plus-button" onclick="openImageMenu()">+</button> <!-- Button to open image menu -->
            </div>
            <input id="ImageInput" type="file" accept="image/*" style="display:none;"> <!-- Hidden file input -->
            <input id="SendMessage" onclick="Send()" value="Send" class="Button" type="submit">
        </div>
    </div>
</body>
</html>