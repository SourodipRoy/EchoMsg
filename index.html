<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Echo Msg" />
    <meta property="og:description" content="A simple and easy way to connect with others. Enter your name, choose a room, and start chatting in real-time. No sign-up required, just connect and converse!"/>
    <meta property="og:image" content="https://ideogram.ai/assets/progressive-image/balanced/response/eKrLwNyAQXqOHIVaBBcEog"/>
    <meta property="og:url" content="https://echomsg.onrender.com" />
    <title>Echo Msg: Connect and Chat Instantly</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="socket.io/socket.io.js"></script>
    <script src="script.js" defer></script>
</head>
<body onload="onload()">
    <div id="Main">
        <audio id="Ding" src="Ding.mp3"></audio>
        <h1 id="Title">Chat</h1>
        <div id="AccessPort">
            <label id="NameLabel">Username</label>
            <input id="NameInput" type="text" placeholder="Enter your username" required>
            <div id="usernameError" class="error-message"></div>

            <label id="IDLabel">Room ID</label>
            <input 
                id="IDInput" 
                type="tel" 
                placeholder="Enter Room ID (6 digits only)" 
                pattern="^[0-9]+$"
                inputmode="numeric" 
                maxlength="6" 
                required>
            <div id="roomIDError" class="error-message"></div>

            <input id="ConnectButton" class="Button" type="submit" value="Connect" onclick="Connect()">
            <input type="button" class="Button" id="JoinGlobalChat" value="Join Global Chat" onclick="joinGlobalChat()">
        </div>
        <div style="display:flex; align-items:center;">
            <input id="ExitButton" class="Button exit" type="button" value="Exit" onclick="exitChat()" style="display:none; margin-right: 10px;">
            <h2 id="RoomID" style="display:none;">Chatroom: None</h2>
        </div>
        <div id="Chat" style="display:none;">
        </div>
        
        <div id="MessageSection" style="display:none;">
            <label id="MessageLabel">Message</label>
            <div id="previewContainer">
                <img id="imagePreview" alt="Preview">
                <span id="imageName"></span>
            </div>
            <div class="input-container">
                <input id="ComposedMessage" type="text" placeholder="Type your message here...">
                <button type="button" class="plus-button" onclick="openImageMenu()">ðŸ“Ž</button>
                <input id="SendMessage" onclick="Send()" value="âž¤" type="submit">
            </div>
            <input id="ImageInput" type="file" accept="image/*" style="display:none;">
        </div>
    </div>
</body>
</html>